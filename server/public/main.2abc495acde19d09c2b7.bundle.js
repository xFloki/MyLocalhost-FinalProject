webpackJsonp([1],{"/EEd":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},"/VrB":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,'.modal{@media(min-width:768px){text-align:center;&:before{content:"";height:100%;width:1px}&:before,.modal-dialog{display:inline-block;vertical-align:middle}.modal-dialog{text-align:left;margin:10px auto}}}',""]),t.exports=t.exports.toString()},0:function(t,e,n){t.exports=n("cDNt")},"2KCO":function(t,e){t.exports='<nav class="navbar navbar-default">\n    \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\n    <div class="navbar-header">\n      <div class="debt-header">\n        <div >\n          To pay\n          <p style="color:red">{{toPay}}\u20ac</p>\n        </div>\n        <div class="balance">\n          Balance\n          <p style="font-size: 1.75em;">{{balance}}\u20ac</p>\n        </div>\n        <div>\n          To be Payed\n          <p>{{toBePayed}}\u20ac</p>\n        </div>\n      </div>\n    </div>\n</nav>\n\n<div class="">\n    <div class="to-pay">\n      <div class="" *ngFor="let debt of activeDebts">\n        <p>{{debt.quantity}} \u20ac</p>\n        <p>{{debt.creditor.username}}</p>\n        <p>{{debt.createdAt}}</p>\n      </div>\n      <div class="old-debts" *ngFor="let debt of oldDebts">\n        <p>{{debt.quantity}} \u20ac</p>\n        <p>{{debt.creditor.username}}</p>\n        <p>{{debt.createdAt}}</p>\n      </div>\n    </div>\n    <div class="to-be-payed">\n      <div class="" *ngFor="let debt of toBePayedDebts">\n        <div class="" *ngIf="debt.status">\n          <p>{{debt.quantity}} \u20ac</p>\n          <p>{{debt.debtor.username}}</p>\n          <p>{{debt.createdAt}}</p>\n          <a class="btn btn-default">\n            <span (click)="confirmPaid(debt)" class="glyphicon glyphicon-ok-circle"></span>\n          </a>\n        </div>\n      </div>\n    </div>\n</div>\n'},"4uzM":function(t,e){t.exports='<br>\n<img class="center" style="margin-top:20px" src="/assets/home.png"\nwidth="150" alt="">\n\n<div  class="" style="text-align:center">\n  <br>\n  <h2>Login</h2>\n  <br>\n  <form (ngSubmit)="onSubmitLogin(loginForm)" class="example-form" #loginForm="ngForm">\n\n    <mat-form-field class="example-full-width">\n      <input matInput placeholder="Username" name="username" [(ngModel)]="user.username">\n    </mat-form-field>\n    <br>\n    <mat-form-field class="example-full-width">\n      <input type="password" matInput placeholder="Password" name="password"\n      [(ngModel)]="user.password">\n    </mat-form-field><br><br>\n\n    <button mat-raised-button color="primary">Primary</button>\n    <a [routerLink]="[\'/register\']" style="margin-left:15px;">Not Account Yet?</a>\n    <p class="error" *ngIf="error">{{ error }}</p>\n  </form>\n</div>\n'},"9LFT":function(t,e){t.exports='<form (ngSubmit)="createHouse(house)" #loginForm="ngForm">\n  <fieldset>\n    <legend>Create New House</legend>\n    <div>\n      <label for="country">Country: </label>\n      <input type="text" name="country" [(ngModel)]="house.country" required>\n    </div>\n    <div>\n      <label for="location">Location: </label>\n      <input type="text" name="location" [(ngModel)]="house.location" required>\n    </div>\n    <div>\n      <label for="street">Street: </label>\n      <input type="text" name="street" [(ngModel)]="house.street" required>\n    </div>\n    <button type="submit" [disabled]="!loginForm.valid">Add</button>\n  </fieldset>\n</form>\n'},"9yv/":function(t,e){t.exports='\n\n\n<div class="container">\n\t<div class="row">\n        <div class="profile-header-container">\n    \t\t<div class="profile-header-img">\n                <img class="img-circle" [src]="user.photoUrl" />\n                \x3c!-- badge --\x3e\n                <div class="rank-label-container">\n                    <span class="label label-default rank-label">{{user.username}}</span>\n                </div>\n            </div>\n        </div>\n\t</div>\n  <br>\n  <p>Username: {{user.username}}</p>\n  <p>Name:  {{user.name}}</p>\n  <p>email:  {{user.email}}</p>\n  <p>House:  UNKNOWN</p>\n</div>\n'},KBSE:function(t,e){t.exports='<button style="width: 100%; margin-top:10px; margin-bottom: 10px;"\nmat-raised-button color="accent" (click)="addNewShopList()">\n  Create New Shoplist\n</button>\n\n<br>\n<div>\n\n\n<div  *ngFor="let shoplist of shoplists">\n  <mat-card style="border: 1px solid red; margin: 20px;">\n    <mat-card-title>Creation: <br> {{shoplist.createdAt}}</mat-card-title>\n    <mat-card-subtitle>Creada por: {{shoplist.owner.username}} </mat-card-subtitle>\n    <mat-card-subtitle>Total Price: {{shoplist.totalPrice}}</mat-card-subtitle>\n    <mat-card-subtitle><a [routerLink]="[\'/shoplist\', shoplist._id]">Sow more</a></mat-card-subtitle>\n  </mat-card>\n\n</div>\n\n</div>\n'},"Pdn/":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".debt-header{margin-top:8px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;color:grey}p{text-align:center}.contenido{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.to-be-payed,.to-pay{margin:0 100px 0 100px}.old-debts{color:grey}span{color:green}",""]),t.exports=t.exports.toString()},QK3w:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"#footer,.flokifix{position:fixed}.flokifix{bottom:0;left:0}",""]),t.exports=t.exports.toString()},TsV1:function(t,e){t.exports='<div class="" *ngIf="owner">\n  <a [routerLink]="[\'/task-assign\']">Assign</a>\n  <a [routerLink]="[\'/task\']">MyTasks</a>\n</div>\n<br>\n  <ul>\n    <li *ngFor="let t of weekTasks">\n      {{t.task.name}}\n    </li>\n  </ul>\n'},YuZA:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="YuZA"},bhF8:function(t,e){t.exports='<p>\n  house-invitations works!\n</p>\n\n<div class="" *ngFor="let inv of invitations">\n  <p>{{inv.house.owner.username}}</p>\n  <p>{{inv.house.street}}</p>\n  <button (click)="acceptInvitation(inv.house._id)" name="button">Accept</button>\n</div>\n'},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("LMZF"),r=n("x8Hs"),i=n("RyBE"),s=n("UHIZ"),a=n("0nO6"),c=n("TMwh"),p=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},l=function(){function t(){this.title="app"}return t=p([Object(o.n)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]})],t)}(),u=n("MCDL"),h=n("6lRS"),d=n("U6yM"),f={production:!0,apiUrl:""},b=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},m=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},y="currentUser",g=function(){function t(t){this.http=t,this.baseUrl=f.apiUrl+"/api/auth",this.headers=new c.a({"Content-Type":"application/json"}),this.options=new c.d({headers:this.headers,withCredentials:!0}),this.user=JSON.parse(localStorage.getItem(y)),this.userSubject=new d.b}return t.prototype.isAuthenticated=function(){return console.log(this.user),null!==this.user&&void 0!==this.user},t.prototype.onUserChanges=function(){return this.userSubject.asObservable()},t.prototype.authenticate=function(t){var e=this;return this.http.post(this.baseUrl+"/login",JSON.stringify(t),this.options).map(function(t){return e.doAuthentication(t.json())}).catch(this.handleError)},t.prototype.logout=function(){var t=this;return this.http.get(this.baseUrl+"/logout",this.options).map(function(e){return t.user=null,localStorage.clear(),e.json()}).catch(this.handleError)},t.prototype.doAuthentication=function(t){return this.user=t,localStorage.setItem(y,JSON.stringify(this.user)),this.userSubject.next(this.user),this.user},t.prototype.handleError=function(t){return d.a.throw(t.json())},t=b([Object(o.C)(),m("design:paramtypes",[c.b])],t)}(),v=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},x=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},j=function(){function t(t,e){this.authService=t,this.router=e}return t.prototype.canActivate=function(t,e){var n=this.authService.isAuthenticated();return n||this.router.navigate(["login"]),n},t=v([Object(o.C)(),x("design:paramtypes",[g,s.b])],t)}(),w=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},R=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},S=function(){function t(t){this.http=t,this.baseUrl=f.apiUrl+"/api/user",this.headers=new c.a({"Contetn-type":"application/json"}),this.options=new c.d({headers:this.headers,withCredentials:!0})}return t.prototype.signup=function(t){return this.http.post(f.apiUrl+"/api/auth/signup",t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.notHomeless=function(){return this.http.patch(f.apiUrl+"/api/auth/not-homeless",{},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){return console.error(t),d.a.throw(t.json())},t=w([Object(o.C)(),R("design:paramtypes",[c.b])],t)}(),O=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},P=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},k=function(){function t(t){this.http=t,this.baseUrl=f.apiUrl+"/api/chore",this.headers=new c.a({"Contetn-type":"application/json"}),this.options=new c.d({headers:this.headers,withCredentials:!0})}return t.prototype.list=function(){return this.http.get(this.baseUrl,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.listUnassigned=function(){return this.http.get(this.baseUrl+"/unassigned",this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){return console.error(t),d.a.throw(t.json())},t=O([Object(o.C)(),P("design:paramtypes",[c.b])],t)}(),_=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},U=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},L=function(){function t(t){this.http=t,this.baseUrl=f.apiUrl+"/api/choreWeek",this.headers=new c.a({"Contetn-type":"application/json"}),this.options=new c.d({headers:this.headers,withCredentials:!0})}return t.prototype.listByUser=function(){return this.http.get(this.baseUrl+"/current",this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.addToUser=function(t,e){return this.http.post(this.baseUrl+"/assign",{userId:t,taskId:e},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){return console.error(t),d.a.throw(t.json())},t=_([Object(o.C)(),U("design:paramtypes",[c.b])],t)}(),I=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},D=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},E=function(){function t(t){this.http=t,this.baseUrl=f.apiUrl+"/api/debt",this.headers=new c.a({"Contetn-type":"application/json"}),this.options=new c.d({headers:this.headers,withCredentials:!0})}return t.prototype.getUserDebts=function(){return this.http.get(this.baseUrl+"/getUserDebts",this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.getUserCreditorDebts=function(){return this.http.get(this.baseUrl+"/userCreditorDebts",this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.confirmPaypment=function(t){return this.http.patch(this.baseUrl+"/confirmPayment/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.create=function(t){return this.http.post(this.baseUrl+"/create",{debt:t},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){return d.a.throw(t.json())},t=I([Object(o.C)(),D("design:paramtypes",[c.b])],t)}(),C=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},T=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},A=function(){function t(t){this.http=t,this.baseUrl=f.apiUrl+"/api/shoplist",this.headers=new c.a({"Content-Type":"application/json"}),this.options=new c.d({headers:this.headers,withCredentials:!0})}return t.prototype.addNewShopList=function(t){return this.http.post(this.baseUrl+"/add",{house:t},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.showShopLists=function(){return this.http.get(this.baseUrl,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.showShopList=function(t){return this.http.get(this.baseUrl+"/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.showShopListsHouse=function(t){return this.http.get(this.baseUrl+"/house/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.findProduct=function(t){return this.http.get(f.apiUrl+"/api/scrape/getProduct/"+t,this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.updatePortion=function(t,e){return this.http.patch(this.baseUrl+"/portion/"+t,{prod:e},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.createPortion=function(t,e){return this.http.post(this.baseUrl+"/portion",{prod:e,shoplist:t},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.acceptPortion=function(t){return this.http.patch(this.baseUrl+"/portion/accept/"+t,{},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){return d.a.throw(t.json())},t=C([Object(o.C)(),T("design:paramtypes",[c.b])],t)}(),M=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},H=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},F=function(){function t(t){this.http=t,this.baseUrl=f.apiUrl+"/api/house",this.headers=new c.a({"Content-Type":"application/json"}),this.options=new c.d({headers:this.headers,withCredentials:!0})}return t.prototype.createHouse=function(t){return this.http.post(this.baseUrl,{house:t},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.userInvitations=function(){return this.http.get(this.baseUrl+"/invitation/current",this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.removeInvitations=function(){return this.http.delete(this.baseUrl+"/invitation/all",this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.currentUserHouse=function(){return this.http.get(this.baseUrl+"/current-user",this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.addHouseMember=function(t){return this.http.patch(this.baseUrl+"/add/"+t,{},this.options).map(function(t){return t.json()}).catch(this.handleError)},t.prototype.handleError=function(t){return d.a.throw(t.json())},t=M([Object(o.C)(),H("design:paramtypes",[c.b])],t)}(),B=function(){return function(){}}(),N=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Y=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},q=function(){function t(t,e){this.authService=t,this.router=e,this.user=new B}return t.prototype.ngOnInit=function(){},t.prototype.onSubmitLogin=function(t){var e=this;this.authService.authenticate(this.user).subscribe(function(n){t.reset(),console.log("NOOO"),console.log(e.authService.user),n.homeless?e.router.navigate(["/house-creator"]):e.router.navigate(["/task"])},function(t){e.error=t.message})},t=N([Object(o.n)({selector:"app-login",template:n("4uzM"),styles:[n("v8Xq")]}),Y("design:paramtypes",[g,s.b])],t)}(),V=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},J=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},K=function(){function t(t,e,n,o,r){this.taskService=t,this.weekTaskService=e,this.authService=n,this.houseService=o,this.router=r,this.owner=!1}return t.prototype.ngOnInit=function(){var t=this;this.listByUser(),this.houseService.currentUserHouse().subscribe(function(e){t.houseService.house=e,t.authService.user.id==t.houseService.house.owner&&(t.owner=!0)})},t.prototype.listByUser=function(){var t=this;this.weekTaskService.listByUser().subscribe(function(e){t.weekTasks=e,console.log(e)})},t.prototype.listUnassigned=function(){var t=this;this.taskService.listUnassigned().subscribe(function(e){return t.tasks=e})},t=V([Object(o.n)({selector:"app-task-manager",template:n("TsV1"),styles:[n("qmCP")]}),J("design:paramtypes",[k,L,g,F,s.b])],t)}(),W=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},Z=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},z=function(){function t(t,e,n){this.userService=t,this.router=e,this.authService=n,this.newUser={username:"",password:"",name:"",email:"",photoUrl:""}}return t.prototype.ngOnInit=function(){},t.prototype.signUp=function(){var t=this;this.userService.signup(this.newUser).subscribe(function(e){var n=new B;n.username=t.newUser.username,n.password=t.newUser.password,t.authService.authenticate(n).subscribe(function(e){console.log(e),t.router.navigate(["/house-creator"])})})},t=W([Object(o.n)({selector:"app-register",template:n("rWB6"),styles:[n("iHxj")]}),Z("design:paramtypes",[S,s.b,g])],t)}(),Q=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},X=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},G=function(){function t(t){this.authService=t}return t.prototype.ngOnInit=function(){this.user=this.authService.user,console.log(this.user)},t=Q([Object(o.n)({selector:"app-profile",template:n("9yv/"),styles:[n("d8OR")]}),X("design:paramtypes",[g])],t)}(),$=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},tt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},et=function(){function t(t,e){this.authService=t,this.router=e}return t.prototype.ngOnInit=function(){},t.prototype.logout=function(){var t=this;this.authService.logout().subscribe(function(e){return t.router.navigate(["/login"])})},t=$([Object(o.n)({selector:"app-navigation",template:n("jl54"),styles:[n("QK3w")]}),tt("design:paramtypes",[g,s.b])],t)}(),nt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ot=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},rt=function(){function t(t){this.debtService=t,this.activeDebts=[],this.oldDebts=[],this.toBePayedDebts=[],this.toPay=0,this.toBePayed=0,this.balance=0}return t.prototype.ngOnInit=function(){var t=this;this.debtService.getUserDebts().subscribe(function(e){t.debts=e,e.forEach(function(e){e.status?(t.activeDebts.push(e),t.toPay+=e.quantity):t.oldDebts.push(e)})}),this.debtService.getUserCreditorDebts().subscribe(function(e){e.forEach(function(e){e.status&&(t.toBePayed+=e.quantity)}),t.toBePayedDebts=e})},t.prototype.calculateBalance=function(){this.balance=this.toBePayed-this.toPay},t.prototype.confirmPaid=function(t){var e=this;this.debtService.confirmPaypment(t._id).subscribe(function(){e.toBePayedDebts[e.toBePayedDebts.indexOf(t)].status=!1,console.log(e.toBePayedDebts)})},t=nt([Object(o.n)({selector:"app-debts",template:n("2KCO"),styles:[n("Pdn/")]}),ot("design:paramtypes",[E])],t)}(),it=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},st=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},at=function(){function t(t,e,n){this.shoplistService=t,this.authService=e,this.houseService=n,this.shoplists=[]}return t.prototype.ngOnInit=function(){var t=this;this.houseService.currentUserHouse().subscribe(function(e){console.log(e),t.currentHouseId=e._id,t.showShopLists()})},t.prototype.addNewShopList=function(){var t=this;this.shoplistService.addNewShopList(this.currentHouseId).subscribe(function(e){e.owner={username:t.authService.user.username},t.shoplists.push(e)})},t.prototype.showShopLists=function(){var t=this;this.shoplistService.showShopListsHouse(this.currentHouseId).subscribe(function(e){t.shoplists=e})},t=it([Object(o.n)({selector:"app-shoplist",template:n("KBSE"),styles:[n("lTEU")]}),st("design:paramtypes",[A,g,F])],t)}(),ct=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},pt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lt=function(){function t(t,e,n,o){this.shoplistService=t,this.debtService=e,this.route=n,this.authService=o,this.product=""}return t.prototype.ngOnInit=function(){var t=this;this.route.params.subscribe(function(e){t.id=e.id,t.getShopListInfo(t.id)})},t.prototype.getShopListInfo=function(t){var e=this;this.shoplistService.showShopList(t).subscribe(function(t){return e.shopList=t})},t.prototype.searchProduct=function(){var t=this;this.shoplistService.findProduct(this.product).subscribe(function(e){t.products=e})},t.prototype.addToPortion=function(t){var e=this;console.log(this.shopList);var n=-1;this.shopList.products.forEach(function(t,o){t.owner.id==e.authService.user.id&&(n=o)}),-1!==n?(this.shopList.products[n].products.push(t.name),this.shoplistService.updatePortion(this.shopList.products[n]._id,t.name).subscribe(function(t){return console.log("FINITO")})):this.shoplistService.createPortion(this.shopList._id,t.name).subscribe(function(){return e.getShopListInfo(e.id)}),this.products="",this.product=""},t.prototype.acceptPortion=function(t,e){var n=this;this.shoplistService.acceptPortion(e._id).subscribe(function(){console.log(e);var o={debtor:e.owner.id,quantity:30,reason:"ShopList day "+new Date+"created by "+t.username};n.debtService.create(o).subscribe(),n.getShopListInfo(n.id)})},t=ct([Object(o.n)({selector:"app-portion",template:n("lmgw"),styles:[n("/VrB")]}),pt("design:paramtypes",[A,E,s.a,g])],t)}(),ut=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},ht=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dt=function(){function t(t,e,n,o){this.userService=t,this.houseService=e,this.authService=n,this.router=o}return t.prototype.ngOnInit=function(){var t=this;this.houseService.userInvitations().subscribe(function(e){return t.invitations=e})},t.prototype.acceptInvitation=function(t){var e=this;this.houseService.addHouseMember(t).subscribe(function(){return e.houseService.removeInvitations().subscribe(function(){return e.userService.notHomeless().subscribe(function(t){e.authService.user=t,e.router.navigate(["/task"])})})})},t=ut([Object(o.n)({selector:"app-house-invitations",template:n("bhF8"),styles:[n("wicv")]}),ht("design:paramtypes",[S,F,g,s.b])],t)}(),ft=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},bt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mt=function(){function t(t,e,n,o){this.houseService=t,this.userService=e,this.authService=n,this.router=o,this.house={}}return t.prototype.ngOnInit=function(){},t.prototype.createHouse=function(t){var e=this;this.houseService.createHouse(t).subscribe(function(t){e.userService.notHomeless().subscribe(function(t){e.authService.user=t,e.router.navigate(["/task"])})})},t=ft([Object(o.n)({selector:"app-house-creator",template:n("9LFT"),styles:[n("/EEd")]}),bt("design:paramtypes",[F,S,g,s.b])],t)}(),yt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},gt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vt=function(){function t(t,e,n,o,r){this.taskService=t,this.houseService=e,this.weekTaskService=n,this.authService=o,this.router=r}return t.prototype.ngOnInit=function(){var t=this;this.listUnassigned(),this.houseService.currentUserHouse().subscribe(function(e){t.houseService.house=e,t.selectedValue=e.owner,t.members=e.members})},t.prototype.listUnassigned=function(){var t=this;this.taskService.listUnassigned().subscribe(function(e){return t.tasks=e})},t.prototype.add=function(t,e){var n=this;this.weekTaskService.addToUser(t,e).subscribe(function(t){n.listUnassigned()})},t.prototype.prueba=function(t){console.log(t)},t=yt([Object(o.n)({selector:"app-task-assign",template:n("s3Je"),styles:[n("qwV+")]}),gt("design:paramtypes",[k,F,L,g,s.b])],t)}(),xt=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,n,s):r(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},jt=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:q},{path:"register",component:z},{path:"house-creator",component:mt,canActivate:[j]},{path:"house-invitations",component:dt,canActivate:[j]},{path:"task",component:K,canActivate:[j]},{path:"task-assign",component:vt,canActivate:[j]},{path:"profile",component:G,canActivate:[j]},{path:"shoplist/:id",component:lt,canActivate:[j]},{path:"shoplist",component:at,canActivate:[j]},{path:"debts",component:rt,canActivate:[j]},{path:"**",redirectTo:""}],wt=function(){function t(){}return t=xt([Object(o.K)({declarations:[l,q,K,z,G,et,rt,at,lt,dt,mt,vt],imports:[i.a,c.c,a.c,u.a,h.a,h.c,h.d,h.e,h.b,s.c.forRoot(jt)],providers:[g,k,L,j,S,E,A,F],bootstrap:[l]})],t)}();n("rgUS");f.production&&Object(o._17)(),Object(r.a)().bootstrapModule(wt).catch(function(t){return console.log(t)})},d8OR:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"body,html{height:100%;background-repeat:no-repeat;background-image:linear-gradient(#6891a2,#0c6121)}.profile-header-container{margin:0 auto;text-align:center}.profile-header-img{padding:54px}.profile-header-img>img.img-circle{width:120px;height:120px;border:2px solid #51d2b7}.profile-header{margin-top:43px}.rank-label-container{margin-top:-19px;text-align:center}.label.label-default.rank-label{background-color:#51d2b7;padding:5px 10px 5px 10px;border-radius:27px}",""]),t.exports=t.exports.toString()},efyd:function(t,e){t.exports='\x3c!--The content below is only a placeholder and can be replaced.--\x3e\n<mat-toolbar>MyLocalhost</mat-toolbar>\n<div style="padding-bottom: 50px;">\n  <router-outlet></router-outlet>\n</div>\n<app-navigation></app-navigation>\n'},hxJY:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".cont{padding-bottom:200px}",""]),t.exports=t.exports.toString()},iHxj:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"img.center{display:block;margin:0 auto}",""]),t.exports=t.exports.toString()},jl54:function(t,e){t.exports='\n<div id="footer" *ngIf="authService.user">\n  <div class="" *ngIf="!authService.user.homeless">\n    <div class="flokifix col-xs-12 navbar-inverse navbar-fixed-bottom">\n    <div class="row" id="bottomNav">\n      <div class="col-xs-3 text-center"><a [routerLink]="[\'/task\']">\n        <i style="margin-top: 3px;" class="glyphicon glyphicon-home"></i><br>Tasks</a>\n      </div>\n      <div class="col-xs-3 text-center"><a [routerLink]="[\'/shoplist\']">\n        <i style="margin-top: 3px;" class="glyphicon glyphicon-th-list"></i><br>Shop Lists</a>\n      </div>\n      <div class="col-xs-3 text-center"><a [routerLink]="[\'/debts\']">\n        <i style="margin-top: 3px;" class="glyphicon glyphicon-eur"></i><br>Debts</a>\n      </div>\n      <div class="col-xs-2 text-center"><a [routerLink]="[\'/profile\']">\n        <i style="margin-top: 3px;" class="glyphicon glyphicon-user"></i><br>Profile</a>\n      </div>\n      <div class="col-xs-1 text-center"><a (click)="logout()">\n        <i style="margin-top: 12px;" class="glyphicon glyphicon-log-out"></i></a>\n      </div>\n    </div>\n    </div>\n  </div>\n\n  <div class="" *ngIf="authService.user.homeless">\n    <div class="col-xs-12 navbar-inverse navbar-fixed-bottom">\n    <div class="row" id="bottomNav">\n      <div class="col-xs-4 text-center"><a [routerLink]="[\'/house-creator\']">\n        <i style="margin-top: 3px;" class="glyphicon glyphicon-home"></i><br>Tasks</a>\n      </div>\n      <div class="col-xs-4 text-center"><a [routerLink]="[\'/house-invitations\']">\n        <i style="margin-top: 3px;" class="glyphicon glyphicon-th-list"></i><br>Shop Lists</a>\n      </div>\n      <div class="col-xs-4 text-center"><a (click)="logout()">\n        <i style="margin-top: 3px;" class="glyphicon glyphicon-log-out"></i><br>Shop Lists</a>\n      </div>\n    </div>\n    </div>\n  </div>\n\n\n</div>\n'},lTEU:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},lmgw:function(t,e){t.exports='<div class="" *ngIf="shopList">\n  <p>{{shopList.owner.id}}</p>\n  <p>Creador: {{shopList.owner.username}}</p>\n  <p>Created At: {{shopList.createdAt}}</p>\n  <input type="text" name="" [(ngModel)]="product">\n   <button (click)="searchProduct()" name="button" data-toggle="modal" data-target="#myModal">\n     Search Product\n   </button>\n  \x3c!-- <div class="" *ngIf="products">\n    <div class="products" *ngFor="let prod of products; let i = index">\n      <p>{{prod.name}}  {{prod.price}} \u20ac  <button (click)="addToPortion(prod)">ADD</button></p>\n    </div>\n  </div> --\x3e\n  <div class="" *ngFor="let portion of shopList.products">\n    <div class="">\n      <p>{{portion.owner.username}}</p>\n      <p>{{authService.user.id}}</p>\n      <div class="" *ngIf="!portion.status && authService.user.id == shopList.owner.id\n      && portion.owner.id !== authService.user.id">\n        <a class="btn btn-default">\n          <span (click)="acceptPortion(shopList.owner, portion)" class="glyphicon glyphicon-ok-circle"></span>\n        </a>\n      </div>\n      <ul>\n        <li *ngFor="let product of portion.products">{{product}}</li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n  \x3c!-- Modal --\x3e\n  <div class="modal fade" id="myModal" role="dialog" style="padding-bottom:20px">\n    <div class="modal-dialog modal-lg">\n      <div class="modal-content">\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">&times;</button>\n          <h4 class="modal-title">Modal Header</h4>\n        </div>\n        <div class="modal-body">\n          <div class="" *ngIf="products">\n            <div class="products" *ngFor="let prod of products; let i = index">\n              <a (click)="addToPortion(prod)" data-toggle="modal" data-target="#myModal">\n                <img width="50px" src="{{prod.img}}" alt="">{{prod.name}}  {{prod.price}} \u20ac\n                <button type="button" name="button">HH</button>\n              </a>\n            </div>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n        </div>\n      </div>\n    </div>\n  </div>\n'},qmCP:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".tasks{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""]),t.exports=t.exports.toString()},"qwV+":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},rWB6:function(t,e){t.exports='<br>\n<img class="center" style="margin-top:20px" src="/assets/home.png"\nwidth="150" alt="">\n\n<div  class="" style="text-align:center">\n  <br>\n  <h2>Register</h2>\n  <br>\n  <form (ngSubmit)="signUp(newUser)" class="example-form" #registerForm="ngForm">\n\n    <mat-form-field class="example-full-width">\n      <input matInput placeholder="Username" name="username" [(ngModel)]="newUser.username">\n    </mat-form-field>\n    <br>\n    <mat-form-field class="example-full-width">\n      <input type="password" matInput placeholder="Password" name="password"\n      [(ngModel)]="newUser.password">\n    </mat-form-field><br>\n    <mat-form-field class="example-full-width">\n      <input matInput placeholder="Name" name="name" [(ngModel)]="newUser.name">\n    </mat-form-field>\n    <br>\n    <mat-form-field class="example-full-width">\n      <input matInput type="email" placeholder="Email" name="email" [(ngModel)]="newUser.email">\n    </mat-form-field>\n    <br><br>\n\n    <button mat-raised-button color="primary" >Register</button>\n    <a [routerLink]="[\'/login\']" style="margin-left:15px;">Already Have Account</a>\n    <p class="error" *ngIf="error">{{ error }}</p>\n  </form>\n</div>\n'},s3Je:function(t,e){t.exports='<a [routerLink]="[\'/task-assign\']">Assign</a>\n<a [routerLink]="[\'/task\']">MyTasks</a>\n<br>\n<select [(ngModel)]="selectedValue">\n  <option *ngFor="let user of members" [ngValue]="user.id">{{user.username}}</option>\n</select>\n<br>\n<div *ngFor="let task of tasks">\n  <p>{{task.name}}</p>\n  <button type="button" (click)="add(selectedValue, task._id)" name="button">Add</button>\n</div>\n'},v8Xq:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"img.center{display:block;margin:0 auto}",""]),t.exports=t.exports.toString()},wicv:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()}},[0]);